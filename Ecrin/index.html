<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√ñzel Bir Soru</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color-1: #ff9a9e;
            --flower-white: #ffffff;
            --flower-center: radial-gradient(circle, #ffd700, #ffa500);
            --stem-green: linear-gradient(to right, #56ab2f, #a8e063);
            --leaf-green: linear-gradient(to bottom right, #11998e, #38ef7d);
            --glass-border: rgba(255, 255, 255, 0.6);
            --glass-bg: rgba(255, 255, 255, 0.15);
            --heart-red: radial-gradient(circle at 30% 30%, #ff5e62, #ff0040);
        }

        body {
            margin: 0; padding: 0; height: 100vh;
            display: flex; justify-content: center; align-items: center;
            background: linear-gradient(-45deg, #ff0080, #ff4d4d, #FDC830, #7928ca);
            background-size: 400% 400%;
            animation: gradientBG 10s ease infinite;
            font-family: 'Montserrat', sans-serif;
            overflow: hidden;
            flex-direction: column;
            position: relative;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- ORTAK STƒ∞LLER --- */
        .start-btn {
            padding: 18px 50px; font-size: 1.3rem; background: white; color: #ff0080;
            border: none; border-radius: 50px; cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
            transition: all 0.3s ease; z-index: 100; font-weight: 700;
            animation: pulseBtn 2s infinite;
        }
        .start-btn:hover { transform: scale(1.1); box-shadow: 0 0 30px rgba(255, 255, 255, 0.9); }
        @keyframes pulseBtn {
            0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 255, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }

        /* --- ARKA PLAN PAPATYA YAPRAKLARI --- */
        .bg-petal {
            position: absolute; width: 15px; height: 35px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50% 50% 10% 10%; opacity: 0; z-index: 1;
            box-shadow: 0 2px 10px rgba(255,255,255,0.2); pointer-events: none;
        }
        @keyframes floatIn { 0% { opacity: 0; transform: translateY(20px) scale(0); } 100% { opacity: 0.7; transform: translateY(0) scale(1); } }
        @keyframes gentleFloat { 0%, 100% { transform: translate(0, 0) rotate(0deg); } 50% { transform: translate(10px, -15px) rotate(10deg); } }

        /* --- SAHNE --- */
        .scene-container {
            position: relative; width: 400px; height: 600px;
            display: flex; justify-content: center; align-items: flex-end;
            opacity: 0; transition: opacity 0.8s ease; z-index: 10;
        }

        .vase {
            width: 140px; height: 0px; background: var(--glass-bg);
            border: 2px solid var(--glass-border); border-top: none;
            border-radius: 0 0 60px 60px; position: absolute; bottom: 50px;
            z-index: 20; backdrop-filter: blur(4px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1), inset 0 -10px 20px rgba(255,255,255,0.2);
            transition: height 0.8s cubic-bezier(0.34, 1.56, 0.64, 1); overflow: hidden;
        }
        .vase::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 60%; background: linear-gradient(to top, rgba(100, 200, 150, 0.3), rgba(255, 255, 255, 0)); z-index: -1; }
        .vase-rim { position: absolute; bottom: 50px; width: 144px; height: 18px; border: 2px solid var(--glass-border); border-radius: 50%; background: rgba(255,255,255,0.2); z-index: 21; opacity: 0; transition: opacity 0.3s; }

        .bouquet { position: absolute; bottom: 70px; width: 100%; height: 450px; pointer-events: none; z-index: 10; }
        .flower { position: absolute; bottom: 0; left: 50%; width: 6px; transform-origin: bottom center; display: flex; flex-direction: column-reverse; align-items: center; z-index: 1; }
        .stem { width: 100%; height: 0%; background: var(--stem-green); border-radius: 4px; transition: height 1.2s cubic-bezier(0.45, 0.05, 0.55, 0.95); }

        /* √ái√ßek Pozisyonlarƒ± */
        .f-1 { height: 420px; z-index: 15; } 
        .f-2 { height: 400px; transform: rotate(-12deg); z-index: 14; } .f-3 { height: 400px; transform: rotate(12deg); z-index: 14; }
        .f-4 { height: 370px; transform: rotate(-24deg); z-index: 13; } .f-5 { height: 370px; transform: rotate(24deg); z-index: 13; }
        .f-6 { height: 340px; transform: rotate(-38deg); z-index: 12; } .f-7 { height: 340px; transform: rotate(38deg); z-index: 12; }
        .f-8 { height: 380px; transform: rotate(-6deg) scale(0.9); z-index: 5; opacity: 0.9; } .f-9 { height: 380px; transform: rotate(6deg) scale(0.9); z-index: 5; opacity: 0.9; }

        .leaf { width: 25px; height: 50px; background: var(--leaf-green); border-radius: 30px 0; position: absolute; opacity: 0; transform: scale(0); transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); bottom: 40%; }
        .l-left { left: -25px; transform-origin: right center; } .l-right { right: -25px; transform-origin: left center; border-radius: 0 30px; }

        .flower-head { position: absolute; bottom: 100%; width: 50px; height: 50px; opacity: 0; transition: opacity 0.5s; margin-bottom: -15px; }
        .petal { position: absolute; width: 14px; height: 45px; background: linear-gradient(to bottom, white, #f0f0f0); border-radius: 50% 50% 10% 10%; top: 50%; left: 50%; transform-origin: bottom center; margin-left: -7px; margin-top: -45px; transform: scale(0); transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .center-disk { position: absolute; width: 28px; height: 28px; background: var(--flower-center); border-radius: 50%; top: 11px; left: 11px; z-index: 20; transform: scale(0); transition: transform 0.5s; box-shadow: inset -2px -2px 5px rgba(0,0,0,0.2); }

        /* --- SORU KUTUSU --- */
        .question-box {
            position: absolute; bottom: -150px; text-align: center; width: 100%;
            transition: bottom 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 50; display: flex; flex-direction: column; align-items: center;
        }
        .question-box.show { bottom: 50px; }
        .q-text { font-size: 1.8rem; color: #444; margin-bottom: 25px; font-weight: 700; background: rgba(255,255,255,0.85); padding: 12px 35px; border-radius: 25px; backdrop-filter: blur(5px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .btn-group { display: flex; gap: 30px; }
        .action-btn { padding: 12px 40px; border: none; border-radius: 30px; font-size: 1.1rem; cursor: pointer; font-weight: bold; transition: transform 0.2s; font-family: inherit; }
        .btn-yes { background: linear-gradient(135deg, #ff6b81, #ff4757); color: white; box-shadow: 0 10px 20px rgba(255, 71, 87, 0.4); }
        .btn-yes:hover { transform: translateY(-3px) scale(1.05); }
        .btn-no { background: #dcdde1; color: #7f8fa6; cursor: not-allowed; }

        /* --- 4. Fƒ∞NAL EKRANI (GELƒ∞≈ûMƒ∞≈û) --- */
        .finale-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(8px);
            display: flex; justify-content: center; align-items: center;
            z-index: 200; opacity: 0; pointer-events: none;
            transition: opacity 1s ease;
        }
        .finale-screen.active { opacity: 1; pointer-events: all; }

        /* Kalp ve Yazƒ± */
        .heart-wrapper {
            position: relative; width: 320px; height: 320px;
            display: flex; justify-content: center; align-items: center;
            animation: heartBeat 1.5s infinite ease-in-out;
            transform: scale(0); transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 210;
        }
        .finale-screen.active .heart-wrapper { transform: scale(1); }

        .css-heart {
            position: absolute; width: 320px; height: 320px; background: var(--heart-red);
            transform: rotate(-45deg); box-shadow: 0 10px 30px rgba(255, 0, 64, 0.4);
            border-radius: 0 0 0 40px;
        }
        .css-heart::before, .css-heart::after {
            content: ""; position: absolute; width: 320px; height: 320px;
            background: var(--heart-red); border-radius: 50%;
        }
        .css-heart::before { top: -50%; left: 0; }
        .css-heart::after { top: 0; left: 50%; }

        .text-inside-heart {
            position: absolute; z-index: 10; color: white; font-family: 'Great Vibes', cursive;
            font-size: 3rem; text-align: center; line-height: 1.2; width: 80%;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2); transform: translateY(-10px);
        }

        @keyframes heartBeat { 0% { transform: scale(1); } 15% { transform: scale(1.1); } 30% { transform: scale(1); } 45% { transform: scale(1.05); } 60% { transform: scale(1); } }

        /* K√ú√á√úK KALPLER */
        .surrounding-heart { position: absolute; color: #ff4757; font-size: 20px; opacity: 0; animation: floatHeart 4s ease-in-out forwards; }
        @keyframes floatHeart { 0% { opacity: 0; transform: translateY(20px) scale(0.5); } 30% { opacity: 0.8; transform: translateY(0) scale(1); } 100% { opacity: 0; transform: translateY(-50px) scale(0.8); } }

        /* --- YENƒ∞ EKLENTƒ∞LER: POLAROID & YILDIZLAR --- */
        
        /* 1. Polaroid √áer√ßeveler */
        .polaroid {
            position: absolute;
            background: white;
            padding: 10px 10px 30px 10px; /* Alt kƒ±sƒ±m geni≈ü, klasik polaroid */
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: scale(0) rotate(0deg);
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            opacity: 0;
            z-index: 205;
            display: flex; justify-content: center; align-items: center;
            font-size: 2rem;
        }
        .polaroid-inner {
            width: 80px; height: 80px;
            background: #f0f0f0;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden;
        }
        .finale-screen.active .polaroid { opacity: 1; transform: scale(1) rotate(var(--rot)); }

        /* 2. Parlayan Yƒ±ldƒ±zlar */
        .twinkle-star {
            position: absolute;
            width: 4px; height: 4px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 10px white;
            opacity: 0;
            animation: twinkle 2s infinite ease-in-out;
        }
        @keyframes twinkle { 0%, 100% { opacity: 0.2; transform: scale(0.8); } 50% { opacity: 1; transform: scale(1.2); } }

    </style>
</head>
<body>

    <button class="start-btn" id="startBtn">S√ºrprizi G√∂r ‚ú®</button>

    <div class="scene-container" id="scene">
        <div class="bouquet">
            <div class="flower f-8"><div class="stem"></div><div class="flower-head"></div></div>
            <div class="flower f-9"><div class="stem"></div><div class="flower-head"></div></div>
            <div class="flower f-6"><div class="stem"></div><div class="leaf l-left" style="bottom:30%"></div><div class="flower-head"></div></div>
            <div class="flower f-7"><div class="stem"></div><div class="leaf l-right" style="bottom:30%"></div><div class="flower-head"></div></div>
            <div class="flower f-4"><div class="stem"></div><div class="leaf l-left"></div><div class="flower-head"></div></div>
            <div class="flower f-5"><div class="stem"></div><div class="leaf l-right"></div><div class="flower-head"></div></div>
            <div class="flower f-2"><div class="stem"></div><div class="leaf l-left" style="bottom:50%"></div><div class="flower-head"></div></div>
            <div class="flower f-3"><div class="stem"></div><div class="leaf l-right" style="bottom:50%"></div><div class="flower-head"></div></div>
            <div class="flower f-1"><div class="stem"></div><div class="leaf l-left"></div><div class="leaf l-right"></div><div class="flower-head"></div></div>
        </div>
        <div class="vase-rim" id="vaseRim"></div>
        <div class="vase" id="vase"></div>
    </div>

    <div class="question-box" id="questionBox">
        <div class="q-text">Artƒ±k tanƒ±≈üabilir miyiz?‚ò∫Ô∏è</div>
        <div class="btn-group">
            <button class="action-btn btn-yes" id="yesBtn">EVET</button>
            <button class="action-btn btn-no">HAYIR</button>
        </div>
    </div>

    <div class="finale-screen" id="finaleScreen">
        <div class="heart-wrapper">
            <div class="css-heart"></div>
            <div class="text-inside-heart">Artƒ±k ƒ∞nat√ßƒ±lƒ±ƒüƒ± Bƒ±rakmanƒ±n Zamanƒ± Geldi Deƒüilmi Evet Dediƒüine G√∂re Umarƒ±m Bu Seni Mutlu Etmi≈ütir     ‚ù§Ô∏è</div>
        </div>
        <!-- Polaroidler JS ile eklenecek -->
    </div>

    <script>
        const startBtn = document.getElementById('startBtn');
        const scene = document.getElementById('scene');
        const vase = document.getElementById('vase');
        const vaseRim = document.getElementById('vaseRim');
        const questionBox = document.getElementById('questionBox');
        const yesBtn = document.getElementById('yesBtn');
        const finaleScreen = document.getElementById('finaleScreen');

        function buildFlowers() {
            const heads = document.querySelectorAll('.flower-head');
            heads.forEach(head => {
                const petalCount = 13 + Math.floor(Math.random() * 3);
                for(let i=0; i<petalCount; i++) {
                    const petal = document.createElement('div');
                    petal.classList.add('petal');
                    const randomScale = 0.85 + Math.random() * 0.3; 
                    const angle = i * (360/petalCount);
                    petal.style.transform = `rotate(${angle}deg) translateY(0) scale(0)`;
                    petal.dataset.rot = angle;
                    petal.dataset.scale = randomScale;
                    head.appendChild(petal);
                }
                const center = document.createElement('div');
                center.classList.add('center-disk');
                head.appendChild(center);
            });
        }
        buildFlowers();

        function createBackgroundPetals() {
            const count = 40;
            for(let i=0; i<count; i++) {
                const petal = document.createElement('div');
                petal.classList.add('bg-petal');
                petal.style.left = Math.random() * 100 + 'vw';
                petal.style.top = Math.random() * 100 + 'vh';
                const scale = 0.5 + Math.random() * 1;
                const rotation = Math.random() * 360;
                petal.style.transform = `scale(${scale}) rotate(${rotation}deg)`;
                const delay = Math.random() * 2;
                const duration = 3 + Math.random() * 2;
                petal.style.animation = `floatIn 1s ${delay}s forwards, gentleFloat ${duration}s ${delay}s infinite ease-in-out alternate`;
                document.body.appendChild(petal);
            }
        }

        const wait = (ms) => new Promise(r => setTimeout(r, ms));

        startBtn.addEventListener('click', async () => {
            startBtn.style.transform = 'scale(0)';
            await wait(300);
            startBtn.style.display = 'none';
            scene.style.opacity = '1';
            createBackgroundPetals();

            vase.style.height = '180px';
            setTimeout(() => { vaseRim.style.bottom = (50 + 180) + 'px'; vaseRim.style.opacity = '1'; }, 600);
            await wait(800);

            const stems = document.querySelectorAll('.stem');
            const shuffledStems = Array.from(stems).sort(() => 0.5 - Math.random());
            shuffledStems.forEach((s, i) => setTimeout(() => s.style.height = '100%', i * 100));
            await wait(1500);

            const leaves = document.querySelectorAll('.leaf');
            leaves.forEach((l, i) => setTimeout(() => { l.style.opacity = '1'; l.style.transform = l.classList.contains('l-right') ? 'scale(1)' : 'scale(1)'; }, i * 50));
            await wait(600);

            document.querySelectorAll('.flower-head').forEach(h => h.style.opacity = '1');
            const petals = document.querySelectorAll('.petal');
            petals.forEach((p, i) => setTimeout(() => { p.style.transform = `rotate(${p.dataset.rot}deg) translateY(0) scale(${p.dataset.scale})`; }, i * 10));
            await wait(800);

            document.querySelectorAll('.center-disk').forEach(c => c.style.transform = 'scale(1)');
            await wait(800);

            questionBox.classList.add('show');
        });

        yesBtn.addEventListener('click', () => {
            questionBox.classList.remove('show');
            scene.style.transition = 'filter 1s, opacity 1s';
            scene.style.filter = 'blur(8px)';
            scene.style.opacity = '0.6';
            
            finaleScreen.classList.add('active');
            
            startSurroundingHearts();
            addFinalTouches(); // Polaroidler ve Yƒ±ldƒ±zlar
        });

        function startSurroundingHearts() {
            const interval = setInterval(() => { createFloatingHeart(); }, 300);
            setTimeout(() => clearInterval(interval), 15000);
        }

        function createFloatingHeart() {
            const heart = document.createElement('div');
            heart.classList.add('surrounding-heart');
            heart.innerHTML = '‚ù§Ô∏è';
            const size = Math.random() * 25 + 10; 
            heart.style.fontSize = `${size}px`;
            const centerX = window.innerWidth / 2; const centerY = window.innerHeight / 2;
            const angle = Math.random() * Math.PI * 2; const radius = 220 + Math.random() * 300; 
            const x = centerX + Math.cos(angle) * radius; const y = centerY + Math.sin(angle) * radius;
            heart.style.left = `${x}px`; heart.style.top = `${y}px`;
            heart.style.animationDuration = (3 + Math.random() * 3) + 's';
            document.body.appendChild(heart);
            setTimeout(() => { heart.remove(); }, 6000);
        }

        // --- YENƒ∞: FINAL SAHNESƒ∞ DETAYLARI ---
        function addFinalTouches() {
            // 1. Arka Plana Yƒ±ldƒ±zlar Ekle
            for(let i=0; i<50; i++) {
                const star = document.createElement('div');
                star.classList.add('twinkle-star');
                star.style.left = Math.random() * 100 + 'vw';
                star.style.top = Math.random() * 100 + 'vh';
                star.style.animationDelay = Math.random() * 2 + 's';
                finaleScreen.appendChild(star);
            }

            // 2. Polaroid Anƒ± Kartlarƒ± Ekle
            const polaroidData = [
                { emoji: 'üì∏', rot: -15, top: '15%', left: '15%' },
                { emoji: 'üíë', rot: 10, top: '20%', right: '15%' },
                { emoji: 'üíå', rot: -8, bottom: '20%', left: '20%' },
                { emoji: '‚ú®', rot: 12, bottom: '15%', right: '20%' }
            ];

            polaroidData.forEach((data, index) => {
                setTimeout(() => {
                    const p = document.createElement('div');
                    p.classList.add('polaroid');
                    p.style.setProperty('--rot', data.rot + 'deg');
                    if(data.top) p.style.top = data.top;
                    if(data.bottom) p.style.bottom = data.bottom;
                    if(data.left) p.style.left = data.left;
                    if(data.right) p.style.right = data.right;

                    p.innerHTML = `<div class="polaroid-inner">${data.emoji}</div>`;
                    finaleScreen.appendChild(p);
                }, index * 300 + 500); // Sƒ±rayla gelsinler
            });
        }

    </script>
</body>
</html>